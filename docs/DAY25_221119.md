# 학습 체크리스트

- [x] 구현
- [x] 그리고 또 구현!

# 학습 내용

## 1️⃣ BridgeMaker: 테스트하기 좋은 코드

이번 주 피드백에 따르면 테스트하기 쉬운 코드에 대한 내용이 있었습니다. 예를 들어 Lotto라는 클래스의 constructor에 랜덤넘버를 생성하는 코드를 넣는 것보다 LottoMachine에서 랜덤넘버를 생성하고 lotto 인스턴스를 만드는 것이 테스트하기 쉽다는 것이었습니다. 이유는 랜덤넘버를 생성하는 코드 자체가 테스트하기 어렵기 때문입니다. 말 그대로 “랜덤”이기 때문에 테스트에서 결과를 정해주어야 합니다. 전자의 경우는 해당 mock 함수를 Lotto와 LottoMachine에도 추가적으로 구현해야 합니다. 하지만 후자의 경우는 LottoMachine에만 mock함수를 구현하면 됩니다.

같은 이유로 BridgeMaker객체에 BridgeModel이라는 클래스의 인스턴스를 반환하는 함수를 만들었습니다. 마치 LottoMachine 이 Lotto인스턴스를 생성한 것처럼입니다. 하지만 다 만들고 문제를 확인해보니 BridgeMaker에서는 makeBridge외에는 추가 프로퍼티가 불가능하다는 점이 있었습니다. 처음에는 그러면 피드백 해준 내용을 적용할 수 없는 것인가?라는 생각이 먼저 들었습니다.

하지만 그렇지 않습니다. 피드백을 준 것의 진짜 목적을 잘 살펴봐야합니다. 피드백의 내용은 “Lotto 클래스 인스턴스를 반환하는 외부 함수를 만들어라”가 아닙니다. “RandomNumber처럼 테스트하기 힘든 코드를 불필요한 곳에 추가하지 말라”였습니다. 왜냐하면 LottoMachine과 Lotto에서 랜덤 요소를 넣는 것이 아니라 LottoMachine에게만 랜덤 요소를 넣음으로써 비로서 Lotto 모듈을 테스트하기 쉬워지게 됩니다.

그렇게 생각하고 보니 비록 코드 구성은 조금 다른 것 같지만 makeBridge메소드의 반환값은 랜덤요소가 없기 때문에 다리 배열을 생성자 인자로 받아서 BridgeModel을 생성해도 테스트에 문제가 없습니다. 왜냐하면 랜덤값을 계산하는 코드는 BridgeMaker에만 있기 때문입니다.

## 2️⃣ 클래스와 객체(object)의 차이

이번 미션은 저번 미션들과 달리 클래스로 구현되어있는 모듈과 객체로 구현되어있는 모듈로 분리되어 있습니다.

### 클래스

- BridgeGame

### 객체

- InputView
- OutputView
- BridgeMaker
- BridgeRandomNumberGenerator

이렇게 나누고 보니 피드백 내용 중에 “객체는 객체스럽게 사용한다”라는 내용이 있었습니다. Lotto클래스에서 getter메서드만 갖는 것에 대해 객체스럽지 않다는 지적이 있었습니다. 객체스럽다는 것은 Lotto클래스에서 가지고 있는 재료(멤버)를 가지고 요리를 직접해야한다는 것이었습니다. 즉, Lotto클래스에서 numbers라는 프로퍼티를 갖기 때문에 numbers의 숫자가 포함되어 있는지, 당첨 번호와 일치하는 지와 같은 기능을 해당 클래스에서 해결해야한다는 것입니다.

객체(Object) 자료형으로 표현된 이 네 모듈은 모두 재료를 가지고 요리하는 규모가 아니라는 생각이 들었습니다. 입출력과 단순히 Bridge를 만드는 기능, 랜덤 넘버를 만드는 기능은 객체(클래스)스럽지 않습니다. 반면에 BridgeGame의 경우 프로퍼티를 활용하여 이동하고 재시작하는 등의 기능이 포함되어야 하기 때문에 객체스럽다고 말할 수 있을 것 같습니다.

# 회고

## 1️⃣ 배운 점

1. 대략적인 구현을 모두 끝냈습니다. 자바스크립트 모듈을 처음 나눠봤던게 2주 전인데, 이제 어느정도 익숙해진 것 같아 뿌듯합니다. MVC패턴에 대해서 많이 생각하고 클래스와 테스트하기 좋은 코드를 고려한 다음 코드를 짜다보니 수월하게 짤 수 있었던 것 같습니다.
2. 그럼에도 불구하고 아직 부족한 점을 많이 느낀 점도 있습니다. 과연 내가 설계한 것이 괜찮은 MVC패턴인지, 내가 짠 테스트 코드가 유효하다고 할만한지, mock을 제대로 활용하고 있는 것은 맞는지 등 입니다. 부족함을 느꼈으니 특히 테스트 코드에 대해서는 더 많은 시도를 해볼 필요가 있다고 생각합니다.

## 2️⃣ 배울 점

1. 검증 기능에 대해 구현하여 더 정확한 결과값을 낼 수 있도록 확인해야 합니다.
2. 리팩토링을 하기에 앞서 미션을 진행하는 동안 받았던 피드백을 정리하고 이를 지킬 수 있는 방법이 없는지 고민하는 시간을 갖으려 합니다.
